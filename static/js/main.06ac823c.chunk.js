(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,a){e.exports={dialog:"DialogItem_dialog__3tDA2",avatar:"DialogItem_avatar__12OzI"}},137:function(e,t,a){e.exports=a.p+"static/media/preloader.53362667.svg"},138:function(e,t,a){e.exports={wrapper:"Preloader_wrapper__1Lke4"}},139:function(e,t,a){},14:function(e,t,a){e.exports={nav:"NavBar_nav__1FWUI",item:"NavBar_item__2RAQQ",active:"NavBar_active__1HRI5",settings:"NavBar_settings__3F9Ih"}},166:function(e,t,a){e.exports=a(292)},171:function(e,t,a){},172:function(e,t,a){},20:function(e,t,a){e.exports={avatar:"ProfileInfo_avatar__3xuFq",profile:"ProfileInfo_profile__2LHtf",status:"ProfileInfo_status__2G3BZ",top_img:"ProfileInfo_top_img__1dqMc",info:"ProfileInfo_info__3dsdE",name:"ProfileInfo_name__1VvQB",lookJob:"ProfileInfo_lookJob__l_AjA",about:"ProfileInfo_about__ogyhT",jobDescription:"ProfileInfo_jobDescription__17ahI",links:"ProfileInfo_links__2gyiI"}},23:function(e,t,a){e.exports={ava:"Users_ava__dN1VK",user:"Users_user__1dQYj",follow:"Users_follow__2SEXO",username:"Users_username__3TnZ1",location:"Users_location__1IQvC",btn:"Users_btn__9AIH5",marginBottom:"Users_marginBottom__RzlrB"}},292:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),s=a(70),o=a.n(s),i=(a(171),a(27)),c=a(28),l=a(30),u=a(29),m=(a(172),a(60)),p=a.n(m),d=a(12),f=function(e){return r.a.createElement("header",{className:p.a.header},r.a.createElement("span",{className:p.a.logo},"CSN"),r.a.createElement("span",{className:p.a.description},"cartoon social network"),r.a.createElement("div",{className:p.a.loginBlock},e.isAuth?r.a.createElement("div",null,e.login," - ",r.a.createElement("button",{onClick:e.setUserLogout},"logout")):r.a.createElement(d.b,{to:"/login"},"Login")))},g=a(9),_=a(11),h=a.n(_),E=a(19),b=a(4),v=a(135),O=a.n(v).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"2adac537-f476-4e82-9502-65ff298e0acc"}}),w={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return O.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return O.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return O.delete("follow/".concat(e)).then((function(e){return e.data}))}},S=function(){return O.get("auth/me").then((function(e){return e.data}))},D=function(e){return O.post("auth/login",e).then((function(e){return e.data}))},j=function(){return O.delete("auth/login").then((function(e){return e.data}))},P=function(){return O.get("security/get-captcha-url").then((function(e){return e.data}))},N=function(e){return O.get("profile/".concat(e)).then((function(e){return e.data}))},y=function(e){return O.get("profile/status/".concat(e)).then((function(e){return e.data}))},C=function(e){return O.put("profile/status/",{status:e}).then((function(e){return e.data}))},k=a(26),I={userId:null,email:null,login:null,isAuth:!1,captcha:!1},B=function(e,t,a,n){return{type:"auth/SET_USER_DATA",data:{userId:e,email:t,login:a,isAuth:n}}},x=function(){return function(){var e=Object(E.a)(h.a.mark((function e(t){var a,n,r,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:0===(a=e.sent).resultCode&&(n=a.data,r=n.id,s=n.email,o=n.login,t(B(r,s,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(){return function(){var e=Object(E.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:0===e.sent.resultCode&&t(B(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.data),{},{captcha:!1});case"auth/SET_CAPTCHA":return Object(b.a)(Object(b.a)({},e),{},{captcha:t.captcha});default:return e}},A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(f,this.props)}}]),a}(r.a.Component),F=Object(g.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setUserLogout:U})(A),L=a(14),M=a.n(L),z=a(97),R=a.n(z),G=a(75),H=a.n(G),J=function(e){return r.a.createElement("div",{className:H.a.friend},r.a.createElement("img",{src:e.logoSrc,alt:"ava",className:H.a.avatar}),r.a.createElement("p",{className:H.a.name},e.name))},W=function(e){return r.a.createElement("div",{className:R.a.friendOnline},r.a.createElement("h2",{className:R.a.title},"Friends online"),e.friendsOnline.map((function(e){return r.a.createElement(J,{logoSrc:e.logoSrc,name:e.name,key:e.id})})))},K=Object(g.b)((function(e){return{friendsOnline:e.sidebarPage.friendsOnline}}))(W),q=function(e){return r.a.createElement("div",{className:M.a.nav},r.a.createElement("nav",null,r.a.createElement("div",{className:M.a.item},r.a.createElement(d.b,{to:"/profile",activeClassName:M.a.active},"Profile")),r.a.createElement("div",{className:M.a.item},r.a.createElement(d.b,{to:"/dialogs",activeClassName:M.a.active},"Messages")),r.a.createElement("div",{className:M.a.item},r.a.createElement(d.b,{to:"/news",activeClassName:M.a.active},"News")),r.a.createElement("div",{className:M.a.item},r.a.createElement(d.b,{to:"/music",activeClassName:M.a.active},"Music")),r.a.createElement("div",{className:"".concat(M.a.item," ").concat(M.a.settings)},r.a.createElement(d.b,{to:"/settings",activeClassName:M.a.active},"Settings")),r.a.createElement("div",{className:M.a.item},r.a.createElement(d.b,{to:"/users",activeClassName:M.a.active},"Users"))),r.a.createElement(K,null))},Q=a(47),Z={postData:[{id:1,message:"it's my first post",likesCount:40},{id:2,message:"How are you?",likesCount:15},{id:3,message:"lalala",likesCount:10}],profile:null,status:""},X=function(e){return{type:"SET_STATUS",status:e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={id:e.postData.length+1,message:t.postText,likesCount:0};return Object(b.a)(Object(b.a)({},e),{},{postMessage:"",postData:[].concat(Object(Q.a)(e.postData),[a])});case"SET_USER_PROFILE":return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case"SET_STATUS":case"UPDATE_STATUS":return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case"DELETE_POST":return Object(b.a)(Object(b.a)({},e),{},{postData:e.postData.filter((function(e){return e.id!==t.id}))});default:return e}},Y=a(39),$=a.n(Y),ee=a(48),te=a.n(ee),ae=function(e){return r.a.createElement("div",{className:te.a.item},r.a.createElement("div",{className:te.a.postContent},r.a.createElement("img",{src:"https://hips.hearstapps.com/digitalspyuk.cdnds.net/17/38/1505816350-screen-shot-2017-09-19-at-111641.jpg?crop=0.502xw:1.00xh;0.0952xw,0&resize=480:*",alt:"lala"}),r.a.createElement("p",{className:te.a.postText},e.message)),r.a.createElement("div",{className:te.a.likes},r.a.createElement("i",{className:"far fa-heart"}),r.a.createElement("span",{className:te.a.likesAmount},e.likes)))},ne=a(131),re=a(132),se=function(e){if(!e)return"Field is required"},oe=function(e){if(!(e.length<=30))return"Max length is 30 symbols"},ie=function(e){return function(t){if(!(t.length<=e))return"Max length is ".concat(e," symbols")}},ce=a(59),le=a(61),ue=a.n(le),me=function(e){var t=e.input,a=e.meta,n=Object(ce.a)(e,["input","meta"]),s=a.touched&&a.error;return r.a.createElement("div",{className:ue.a.formControl+" "+(s?ue.a.error:"")},r.a.createElement("textarea",Object.assign({},t,n)),s&&r.a.createElement("span",null,a.error))},pe=function(e){var t=e.input,a=e.meta,n=Object(ce.a)(e,["input","meta"]),s=a.touched&&a.error;return r.a.createElement("div",{className:ue.a.formControl+" "+(s?ue.a.error:"")},r.a.createElement("input",Object.assign({},t,n)),s&&r.a.createElement("span",null,a.error))},de=ie(10),fe=Object(re.a)({form:"addPostForm"})((function(e){return r.a.createElement("form",{className:$.a.newPost,onSubmit:e.handleSubmit},r.a.createElement(ne.a,{className:$.a.newPostText,component:me,cols:"30",rows:"10",name:"addPostForm",validate:[se,de],onKeyPress:function(t){t.shiftKey||13!==t.charCode||e.handleSubmit()}}),r.a.createElement("button",{type:"submit",className:$.a.btn},"Add post"))})),ge=function(e){var t=e.postData.map((function(e){return r.a.createElement(ae,{id:e.id,message:e.message,likes:e.likesCount,key:e.id})}));return r.a.createElement("div",{className:$.a.posts},r.a.createElement("h2",{className:$.a.title},"My posts"),r.a.createElement(fe,{onSubmit:function(t){e.addPost(t.addPostForm)}}),r.a.createElement("div",{className:$.a.postList},t))},_e=Object(g.b)((function(e){return{postData:e.profilePage.postData}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",postText:e}}(t)),e(Object(k.a)("addPostForm"))}}}))(ge),he=a(20),Ee=a.n(he),be=a(137),ve=a.n(be),Oe=a(138),we=a.n(Oe),Se=function(e){return r.a.createElement("div",{className:we.a.wrapper},r.a.createElement("img",{src:ve.a,alt:"preload"}))},De=a(58);var je=function(e){var t=Object(n.useState)(e.status),a=Object(De.a)(t,2),s=a[0],o=a[1],i=Object(n.useState)(!1),c=Object(De.a)(i,2),l=c[0],u=c[1];return Object(n.useEffect)((function(){o(e.status)}),[e.status]),r.a.createElement("div",null,l?r.a.createElement("div",null,r.a.createElement("input",{value:s,onBlur:function(){e.updateUserStatus(s),u(!1)},onChange:function(e){o(e.currentTarget.value)},autoFocus:!0})):r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){return u(!0)},className:Ee.a.status},s||"-----")))},Pe=a(74),Ne=a.n(Pe),ye=function(e){return e.profile?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{className:Ee.a.top_img,src:"https://www.scadconnector.com/wp-content/uploads/2015/10/editRick-and-Morty-2.jpg",alt:"profile-pic"})),r.a.createElement("div",{className:Ee.a.profile},r.a.createElement("img",{className:Ee.a.avatar,src:e.profile.photos.large||Ne.a,alt:"avatar"}),r.a.createElement("div",{className:Ee.a.info},r.a.createElement("p",{className:Ee.a.name},e.profile.fullName),r.a.createElement(je,{status:e.status,updateUserStatus:e.updateUserStatus}),r.a.createElement("p",{className:Ee.a.about},e.profile.aboutMe),r.a.createElement("p",{className:Ee.a.lookJob},"Looking for a job: ",e.profile.lookingForAJob?"Yes":"No"),r.a.createElement("p",{className:Ee.a.jobDescription},e.profile.lookingForAJobDescription)),r.a.createElement("div",{className:Ee.a.links}))):r.a.createElement(Se,null)},Ce=function(e){return r.a.createElement("div",null,r.a.createElement(ye,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),r.a.createElement(_e,null))},ke=a(10),Ie=a(8),Be=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId||this.props.history.push("/login")),this.props.setUserProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ce,{profile:this.props.profile,updateUserStatus:this.props.updateUserStatus,status:this.props.status}))}}]),a}(r.a.Component),xe=Object(Ie.d)(Object(g.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserProfile:function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e);case 2:n=t.sent,a({type:"SET_USER_PROFILE",profile:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:n=t.sent,a(X(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:0===t.sent.resultCode&&a(X(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),ke.f)(Be),Ue={dialogData:[{id:1,name:"Denys",logoSrc:"https://hips.hearstapps.com/digitalspyuk.cdnds.net/17/38/1505816350-screen-shot-2017-09-19-at-111641.jpg?crop=0.502xw:1.00xh;0.0952xw,0&resize=480:*"},{id:2,name:"Maryna",logoSrc:"https://vignette.wikia.nocookie.net/rickandmorty/images/e/e8/Jessica.png/revision/latest/scale-to-width-down/310?cb=20150706222334"},{id:3,name:"Frenk",logoSrc:"https://vignette.wikia.nocookie.net/rickandmorty/images/e/eb/Talkingcat.png/revision/latest?cb=20200110192710"}],messageData:[{id:1,text:"Hello",dir:"send",time:"21:35"},{id:2,text:"Bla bla blaBla bla blaBla bla blaBla bla blaBla bla blaBla bla blaBla bla blaBla bla blaBla bla bla",dir:"get",time:"21:38"},{id:3,text:"Lalka",dir:"send",time:"22:11"}]},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/SEND-MESSAGE":var a={id:e.messageData.length+1,text:t.newMessageBody,dir:"send",time:(new Date).toLocaleTimeString().slice(0,5)};return Object(b.a)(Object(b.a)({},e),{},{messageData:[].concat(Object(Q.a)(e.messageData),[a])});default:return e}},Ae=a(40),Fe=a.n(Ae),Le=a(100),Me=a.n(Le),ze=function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",{className:Me.a.dialog},r.a.createElement(d.b,{to:t},r.a.createElement("img",{src:e.logoSrc,alt:"ava",className:Me.a.avatar}),r.a.createElement("p",null,e.name)))},Re=a(77),Ge=a.n(Re),He=function(e){return r.a.createElement("div",{className:"".concat(Ge.a[e.dir]," + ").concat(Ge.a.item)},e.text,r.a.createElement("span",{className:Ge.a.time},e.time))},Je=ie(30),We=Object(re.a)({form:"dialogAddMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(ne.a,{className:Fe.a.newMessage,component:me,validate:[se,Je],name:"newMessageText",cols:"30",rows:"10",onKeyPress:function(t){t.shiftKey||13!==t.charCode||e.handleSubmit()},required:!0}),r.a.createElement("button",{className:Fe.a.sendBtn},r.a.createElement("i",{className:"far fa-paper-plane"})))})),Ke=function(e){return r.a.createElement("div",{className:Fe.a.dialogs},r.a.createElement("div",{className:Fe.a.dialogsItems},e.dialogsPage.dialogData.map((function(e){return r.a.createElement(ze,{id:e.id,name:e.name,logoSrc:e.logoSrc,key:e.id})}))),r.a.createElement("div",{className:Fe.a.dialogMessages},r.a.createElement("div",{className:Fe.a.messages},e.dialogsPage.messageData.map((function(e){return r.a.createElement(He,{id:e.id,text:e.text,dir:e.dir,time:e.time,key:e.id})}))),r.a.createElement(We,{onSubmit:function(t){e.sendMessage(t.newMessageText)}})))},qe=function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth}},Qe=Object(Ie.d)(Object(g.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:"dialogs/SEND-MESSAGE",newMessageBody:e}}(t)),e(Object(k.a)("dialogAddMessageForm"))}}})),(function(e){var t=function(t){Object(l.a)(n,t);var a=Object(u.a)(n);function n(){return Object(i.a)(this,n),a.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(ke.a,{to:"login"})}}]),n}(r.a.Component);return Object(g.b)(qe)(t)}))(Ke),Ze=function(e){return r.a.createElement("div",null,"lala")},Xe=function(e){return r.a.createElement("div",null,"lla")},Ve=a(139),Ye=a.n(Ve),$e=function(e){return r.a.createElement("div",{className:Ye.a.content},"lala")},et=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(b.a)(Object(b.a)({},e),n):e}))},tt="users/FOLLOW",at={usersData:[],pageSize:20,totalUsersCount:10,currentPage:1,isFetching:!0,isFollowingInProgress:[],portionSize:10},nt=function(e){return{type:tt,userId:e}},rt=function(e){return{type:"users/UNFOLLOW",userId:e}},st=function(e){return{type:"users/SET_CURRENT_PAGE",currentPage:e}},ot=function(e){return{type:"users/TOGGLE_IS_FETCHING",isFetching:e}},it=function(e,t){return{type:"users/TOGGLE_IS_FOLLOWING_PROGRESS",isFollowingInProgress:e,userId:t}},ct=function(){var e=Object(E.a)(h.a.mark((function e(t,a,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(it(!0,a)),e.next=3,n(a);case 3:0===e.sent.resultCode&&t(r(a)),t(it(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tt:return Object(b.a)(Object(b.a)({},e),{},{usersData:et(e.usersData,t.userId,"id",{followed:!0})});case"users/UNFOLLOW":return Object(b.a)(Object(b.a)({},e),{},{usersData:et(e.usersData,t.userId,"id",{followed:!1})});case"users/SET_USERS":return Object(b.a)(Object(b.a)({},e),{},{usersData:t.users});case"users/SET_CURRENT_PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.currentPage});case"users/SET_TOTAL_USERS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"users/TOGGLE_IS_FETCHING":return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case"users/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(b.a)(Object(b.a)({},e),{},{isFollowingInProgress:t.isFollowingInProgress?[].concat(Object(Q.a)(e.isFollowingInProgress),[t.userId]):e.isFollowingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},ut=a(23),mt=a.n(ut),pt=a(41),dt=a.n(pt),ft=function(e){for(var t=e.currentPage,a=e.totalUsersCount,s=e.pageSize,o=e.onPageChanged,i=e.portionSize,c=Math.ceil(a/s),l=[],u=1;u<=c;u++)l.push(u);var m=Math.ceil(c/i),p=Object(n.useState)(1),d=Object(De.a)(p,2),f=d[0],g=d[1],_=(f-1)*i+1,h=f*i;return r.a.createElement("div",{className:dt.a.pages},f>10&&r.a.createElement("span",{className:dt.a.paginatorBtn,onClick:function(){g(f-10),o((f-11)*i+1)}}," -100 "),f>1&&r.a.createElement("span",{className:dt.a.paginatorBtn,onClick:function(){g(f-1),o((f-2)*i+1)}}," -10 "),l.filter((function(e){return e>=_&&e<=h})).map((function(e){return r.a.createElement("span",{key:e,onClick:function(){o(e)},className:t===e?dt.a.selectPage:""},e)})),f<m&&r.a.createElement("span",{className:dt.a.paginatorBtn,onClick:function(){g(f+1),o(f*i+1)}}," +10 "),f<m-10&&r.a.createElement("span",{className:dt.a.paginatorBtn,onClick:function(){g(f+10),o((f+9)*i+1)}}," +100 "))},gt=function(e){var t=e.user,a=e.isFollowingInProgress,n=e.unfollow,s=e.follow;return r.a.createElement("div",{key:t.id,className:mt.a.user},r.a.createElement("div",{className:mt.a.follow},r.a.createElement("div",null,r.a.createElement(d.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:t.photos.small||Ne.a,className:mt.a.ava,alt:"obama"}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),className:mt.a.btn,onClick:function(){n(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),className:mt.a.btn,onClick:function(){s(t.id)}},"Follow"))),r.a.createElement("div",{className:mt.a.username},r.a.createElement("p",{className:mt.a.marginBottom},t.name),r.a.createElement("p",null,t.status)),r.a.createElement("div",{className:"classes.location"},r.a.createElement("p",{className:mt.a.marginBottom},"user.location.country"),r.a.createElement("p",null,"user.location.city")))},_t=function(e){var t=e.currentPage,a=e.onPageChanged,n=e.totalUsersCount,s=e.pageSize,o=e.portionSize,i=Object(ce.a)(e,["currentPage","onPageChanged","totalUsersCount","pageSize","portionSize"]);return r.a.createElement("div",{className:mt.a.wrapper},r.a.createElement(ft,{currentPage:t,onPageChanged:a,totalUsersCount:n,pageSize:s,portionSize:o}),i.usersData.map((function(e){return r.a.createElement(gt,{user:e,isFollowingInProgress:i.isFollowingInProgress,follow:i.follow,unfollow:i.unfollow,key:e.id})})))},ht=function(e){return e.usersPage.usersData},Et=function(e){return e.usersPage.pageSize},bt=function(e){return e.usersPage.totalUsersCount},vt=function(e){return e.usersPage.currentPage},Ot=function(e){return e.usersPage.isFetching},wt=function(e){return e.usersPage.isFollowingInProgress},St=function(e){return e.usersPage.portionSize},Dt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,a=e.pageSize;this.props.getUsers(t,a)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(Se,null):null,r.a.createElement(_t,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,usersData:this.props.usersData,isFollowingInProgress:this.props.isFollowingInProgress,follow:this.props.follow,unfollow:this.props.unfollow,portionSize:this.props.portionSize}))}}]),a}(r.a.Component),jt=Object(g.b)((function(e){return{usersData:ht(e),pageSize:Et(e),totalUsersCount:bt(e),currentPage:vt(e),isFetching:Ot(e),isFollowingInProgress:wt(e),portionSize:St(e)}}),{followSuccess:nt,unfollowSuccess:rt,setCurrentPage:st,toggleFollowingProgress:it,getUsers:function(e,t){return function(){var a=Object(E.a)(h.a.mark((function a(n){var r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(ot(!0)),n(st(e)),a.next=4,w.getUsers(e,t);case 4:r=a.sent,n({type:"users/SET_USERS",users:r.items}),n({type:"users/SET_TOTAL_USERS_COUNT",totalUsersCount:r.totalCount}),n(ot(!1));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},follow:function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ct(a,e,w.follow.bind(w),nt);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ct(a,e,w.unfollow.bind(w),rt);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Dt),Pt=a(35),Nt=a.n(Pt),yt=Object(re.a)({form:"login"})((function(e){return r.a.createElement("form",{className:Nt.a.loginForm,onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(ne.a,{className:Nt.a.textInp+" "+Nt.a.mb30,placeholder:"login",component:pe,name:"login",validate:[se,oe]})),r.a.createElement("div",null,r.a.createElement(ne.a,{type:"password",className:Nt.a.textInp,placeholder:"password",component:pe,name:"password",validate:[se,oe]})),r.a.createElement("div",null,r.a.createElement(ne.a,{type:"checkbox",component:"input",name:"remember"})," remember me"),r.a.createElement("div",null,e.captcha?r.a.createElement("div",null,r.a.createElement("img",{src:e.captcha,alt:"cpacha"}),r.a.createElement(ne.a,{className:Nt.a.textInp,placeholder:"captcha",component:pe,name:"captcha",validate:[se]})):""),e.error&&r.a.createElement("div",{className:Nt.a.errorBox},e.error),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),Ct=Object(g.b)((function(e){return{isAuth:e.auth.isAuth,captcha:e.auth.captcha}}),{setUserLogin:function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D({email:e.login,password:e.password,captcha:e.captcha});case 2:0===(n=t.sent).resultCode?a(x()):(10===n.resultCode&&P().then((function(e){return a({type:"auth/SET_CAPTCHA",captcha:e.url})})),r=n.messages[0]?n.messages[0]:"Some error",a(Object(k.b)("login",{_error:r})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUserLogout:U})((function(e){return e.isAuth?r.a.createElement(ke.a,{to:"/profile"}):r.a.createElement("div",{className:Nt.a.wrapper},r.a.createElement("h1",null,"Login"),r.a.createElement(yt,{onSubmit:function(t){e.setUserLogin(t)},captcha:e.captcha}))})),kt={initialized:!1},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/INITIALIZED_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});default:return e}},Bt={friendsOnline:[{logoSrc:"http://\u0440\u0438\u043a-\u0438-\u043c\u043e\u0440\u0442\u0438.\u0440\u0444/wp-content/uploads/2017/02/%D0%9A%D0%BE%D0%B2%D0%B1%D0%BE%D0%B9-%D0%A0%D0%B8%D0%BA-%D0%BA%D1%80%D1%83%D0%BF%D0%BD%D1%8B%D0%B9-%D0%BF%D0%BB%D0%B0%D0%BD.jpg",name:"Rick",id:1},{logoSrc:"http://\u0440\u0438\u043a-\u0438-\u043c\u043e\u0440\u0442\u0438.\u0440\u0444/wp-content/uploads/2016/11/%D0%9A%D0%BE%D1%80%D0%BE%D0%BB%D1%8C-%D0%9F%D0%BB%D1%83%D1%82%D0%BE%D0%BD%D0%B0.jpg",name:"King Plutie",id:2},{logoSrc:"https://vignette.wikia.nocookie.net/rickandmorty/images/e/ec/%D0%9E%D0%B3%D1%83%D1%80%D1%87%D0%B8%D0%BA_%D0%A0%D0%B8%D0%BA_002.jpg/revision/latest/scale-to-width-down/340?cb=20170808193211&path-prefix=ru",name:"Cucumber",id:3},{logoSrc:"https://pbs.twimg.com/profile_images/640562675307708416/XGzlRdo9_400x400.png",name:"Bird",id:4},{logoSrc:"http://\u0440\u0438\u043a-\u0438-\u043c\u043e\u0440\u0442\u0438.\u0440\u0444/wp-content/uploads/2016/09/%D0%92%D0%BE%D1%80%D0%BE%D0%B2%D0%B0%D0%B9%D1%87%D0%B8%D0%BA.jpg",name:"Creep",id:5}]},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;arguments.length>1&&arguments[1];return e},Ut=a(140),Tt=a(133),At=Object(Ie.c)({profilePage:V,dialogsPage:Te,sidebarPage:xt,usersPage:lt,auth:T,form:Tt.a,app:It}),Ft=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ie.d,Lt=Object(Ie.e)(At,Ft(Object(Ie.a)(Ut.a)));window.store=Lt;var Mt=Lt,zt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(F,null),r.a.createElement(q,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(ke.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(xe,null)}}),r.a.createElement(ke.b,{path:"/dialogs",render:function(){return r.a.createElement(Qe,null)}}),r.a.createElement(ke.b,{path:"/users",render:function(){return r.a.createElement(jt,null)}}),r.a.createElement(ke.b,{path:"/news",component:Ze}),r.a.createElement(ke.b,{path:"/music",component:Xe}),r.a.createElement(ke.b,{path:"/settings",component:$e}),r.a.createElement(ke.b,{path:"/login",component:Ct}))):r.a.createElement(Se,null)}}]),a}(r.a.Component),Rt=Object(Ie.d)(ke.f,Object(g.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(x()).then((function(){e({type:"app/INITIALIZED_SUCCESS"})}))}}}))(zt),Gt=function(e){return r.a.createElement(d.a,null,r.a.createElement(g.a,{store:Mt},r.a.createElement(Rt,null)))};o.a.render(r.a.createElement(Gt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,a){e.exports={textInp:"Login_textInp__3Iz_d",errorBox:"Login_errorBox__1rJWr",mb30:"Login_mb30__3wkRt",wrapper:"Login_wrapper__1IflB"}},39:function(e,t,a){e.exports={posts:"MyPosts_posts__3tZ1c",title:"MyPosts_title__3q_Ko",newPostText:"MyPosts_newPostText__LbGjn",btn:"MyPosts_btn__2fOso",postList:"MyPosts_postList__2e48R"}},40:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dialogsItems:"Dialogs_dialogsItems__2sNe2",messages:"Dialogs_messages__1w_Up",active:"Dialogs_active__2sQhs",newMessage:"Dialogs_newMessage__1cWkx",dialogMessages:"Dialogs_dialogMessages__3ag9d",sendBtn:"Dialogs_sendBtn__3km34",btn:"Dialogs_btn__kLfml"}},41:function(e,t,a){e.exports={pages:"Paginator_pages__1p_3u",selectPage:"Paginator_selectPage__1oWzK",paginatorBtn:"Paginator_paginatorBtn__1OOL1"}},48:function(e,t,a){e.exports={item:"Post_item__ihtu9",postContent:"Post_postContent__dePS0",postText:"Post_postText__1lIib",likes:"Post_likes__2o7Hq"}},60:function(e,t,a){e.exports={header:"Header_header__1VCKf",logo:"Header_logo__3_SJs",description:"Header_description__2ZXU4",loginBlock:"Header_loginBlock__6mma5"}},61:function(e,t,a){e.exports={formControl:"FormsControls_formControl__3oI2W",error:"FormsControls_error__9lcue"}},74:function(e,t,a){e.exports=a.p+"static/media/photo.15bd48c3.png"},75:function(e,t,a){e.exports={friend:"Friend_friend__2ECRJ",avatar:"Friend_avatar__1sUz2"}},77:function(e,t,a){e.exports={item:"Message_item__3GgJa",send:"Message_send__1MzS4",time:"Message_time__3IDiw",get:"Message_get__7Ter8"}},97:function(e,t,a){e.exports={friendOnline:"FriendsOnline_friendOnline__1DxEI",title:"FriendsOnline_title__12Te_"}}},[[166,1,2]]]);
//# sourceMappingURL=main.06ac823c.chunk.js.map